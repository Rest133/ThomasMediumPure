function findOpenPopupsElements(){document.querySelectorAll("[data-popup-name]").forEach(e=>{let t=e.getAttribute("data-popup-name"),o=document.querySelector("."+t);e.addEventListener("click",()=>{"FORM"===e.parentElement.tagName?validateForm(e.parentElement)&&openPopup(o):openPopup(o)})})}function addCloseEventToPopups(){document.querySelectorAll(".popup").forEach(e=>{e.querySelectorAll("[data-popup-close]").forEach(t=>{t.addEventListener("click",o=>{o.preventDefault(),"FORM"===t.parentElement.tagName?validateForm(t.parentElement)&&closePopup(e):closePopup(e)})})}),document.addEventListener("mouseup",e=>{if(null!==document.querySelector(".popup.popup-active")){let t=document.querySelector(".popup.popup-active");e.target.closest(".popup-active")||e.target.closest("[data-popup-name]")||closePopup(t)}})}function addCookiesPopup(){setTimeout((function(){if(null!==document.querySelector(".popup_cookies")){let e=document.querySelector(".popup_cookies"),t=document.querySelector(".popup-wrapper");$(t).fadeIn(),$(e).fadeIn(),$(e).css("display","flex"),document.body.style.overflow="hidden"}}),2e3)}function findCustomSelect(){if(null!==document.querySelectorAll(".custom-select")){document.querySelectorAll(".custom-select").forEach(e=>{let t=e.querySelector(".custom-select__choose-item");e.addEventListener("click",e=>{e.target&&e.target.classList.contains("popup__select-item")&&(t.textContent=e.target.textContent)})})}}function addMobileMenuHandler(){let e=document.querySelector(".burger-menu"),t=document.querySelector(".main-menu");e.addEventListener("click",()=>{e.classList.toggle("burger-menu_active"),t.classList.toggle("main-menu_active"),t.classList.contains("main-menu_active")?document.body.style.overflow="hidden":document.body.style.overflow=""})}function addFavorite(){null!==document.querySelectorAll(".favoris-row__img-culumn-subtitle")&&document.querySelectorAll(".favoris-row__img-culumn-subtitle").forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("favoris-row__img-culumn-subtitle_active")})})}function openFAQItem(){if(null!==document.querySelector(".faq-block")){document.querySelector(".faq-block").querySelectorAll(".faq-questions__row").forEach(e=>{e.addEventListener("click",()=>{e.querySelector(".faq_question__text").classList.toggle("dn"),e.querySelector(".faq_question__text").classList.contains("dn")?e.querySelector(".faq-element").textContent="+":e.querySelector(".faq-element").textContent="â€“"})})}}function addPopupSort(){if(null!==document.querySelector(".popup_settings")){document.querySelector(".popup_settings").querySelectorAll(".popup__settings-list-item_sort").forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("active")})})}}function openPopup(e){e.parentElement.classList.contains("popup-wrapper")?($(e.parentElement).fadeIn(),document.body.style.overflow="hidden",$(e).fadeIn(),$(e).css("display","flex"),e.classList.add("popup-active")):($(e).fadeIn(),$(e).css("display","flex"),e.classList.add("popup-active"))}function closePopup(e){$(e).fadeOut(),e.classList.remove("popup-active"),e.parentElement.classList.contains("popup-wrapper")&&($(e.parentElement).fadeOut(),document.body.style.overflow="")}function validateForm(e){let t=0;return e.querySelectorAll(".form-block__input").forEach(e=>{e.checkValidity()?(e.classList.remove("form-block__input_wrong"),e.classList.add("form-block__input_correct"),setTimeout((function(){e.classList.remove("form-block__input_correct")}),1500)):(t++,e.classList.add("form-block__input_wrong"))}),0===t}function changeSearchInputPlaceholder(){if(null!==document.querySelector(".search-input_change")){let e=document.querySelector(".search-input_change");window.matchMedia("(max-width: 1025px)").matches&&(e.placeholder=e.getAttribute("data-mob-placeholder"))}}function starRatingHandler(){let e=0;if(null!==document.querySelector(".popup__rating")){let t=document.querySelector(".popup__rating"),o=t.querySelectorAll(".rating__star");o.forEach((t,n)=>{t.addEventListener("mouseenter",()=>{fillAllStarsToCurrent(o,n)}),t.addEventListener("click",()=>{e=n+1,fillAllStarsToCurrent(o,n),console.log(e)})}),t.addEventListener("mouseleave",()=>{0===e&&o.forEach(e=>{e.classList.remove("rating__star_active")})})}}function fillAllStarsToCurrent(e,t){e.forEach((e,o)=>{o<=t?e.classList.add("rating__star_active"):e.classList.remove("rating__star_active")})}document.addEventListener("DOMContentLoaded",()=>{addCookiesPopup(),findOpenPopupsElements(),addCloseEventToPopups(),findCustomSelect(),addMobileMenuHandler(),addFavorite(),openFAQItem(),addPopupSort(),changeSearchInputPlaceholder(),starRatingHandler()});